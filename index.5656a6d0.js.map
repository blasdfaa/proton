{"mappings":"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","sources":["src/js/app.js","src/js/anchor-scroll.js","src/js/burger.js","src/js/feedback-form.js","src/js/const.js","src/js/alert-form-message.js"],"sourcesContent":["import { anchorScrollInit } from './anchor-scroll';\r\nimport { initMobileMenu } from './burger';\r\nimport { feedbackFormInit } from './feedback-form';\r\n\r\nconst viewportWidth = window.innerWidth;\r\n\r\nif (viewportWidth < 1200) {\r\n  initMobileMenu();\r\n}\r\n\r\nanchorScrollInit();\r\nfeedbackFormInit();\r\n","export const anchorScrollInit = () => {\r\n  const links = document.querySelectorAll('a[href^=\"#\"]');\r\n\r\n  links.forEach((anchor) => {\r\n    anchor.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n\r\n      const hash = anchor.getAttribute('href');\r\n      const target = document.querySelector(hash);\r\n\r\n      target.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'start',\r\n      });\r\n      history.pushState(null, null, hash);\r\n    });\r\n  });\r\n};\r\n","export const initMobileMenu = () => {\r\n  const page = document.querySelector('html');\r\n  const burgerButton = document.querySelector('.header-menu__toggle');\r\n\r\n  burgerButton.addEventListener('click', () => {\r\n    page.classList.toggle('js-menu-open');\r\n\r\n    const isMenuOpen = page.classList.contains('js-menu-open');\r\n\r\n    if (isMenuOpen) {\r\n      burgerButton.setAttribute('aria-expanded', 'true');\r\n    } else {\r\n      burgerButton.setAttribute('aria-expanded', 'false');\r\n    }\r\n  });\r\n};\r\n","import {\r\n  EMAIL_VALID_REGEX,\r\n  FAILURE_FORM_MESSAGE_TEXT,\r\n  FormMessageType,\r\n  MAX_LENGTH_MESSAGE,\r\n  SUCCESS_FORM_MESSAGE_TEXT,\r\n} from './const';\r\nimport { createAlertMessage } from './alert-form-message';\r\n\r\nexport const feedbackFormInit = () => {\r\n  const formSection = document.querySelector('.feedback-form');\r\n  const formSectionContainer = document.querySelector('.feedback-form .container');\r\n  const messageInput = document.querySelector('.feedback-form__field--message');\r\n  const emailInput = document.querySelector('.feedback-form__field--email');\r\n  const messageTextCounter = document.querySelector('.feedback-form__message-counter');\r\n  const feedbackForm = document.querySelector('.feedback-form__form');\r\n\r\n  let oldFormElements = [];\r\n\r\n  const isEmailValid = (email) => EMAIL_VALID_REGEX.test(String(email).toLowerCase());\r\n\r\n  const hideFormElements = () => {\r\n    while (formSectionContainer.firstChild) {\r\n      oldFormElements.push(formSectionContainer.firstChild);\r\n      formSectionContainer.removeChild(formSectionContainer.firstChild);\r\n    }\r\n  };\r\n\r\n  const showFormElements = () => {\r\n    formSection.querySelector('.feedback-form__alert').remove();\r\n    formSection.classList.remove('feedback-form--sent');\r\n\r\n    oldFormElements.forEach((item) => {\r\n      formSectionContainer.appendChild(item);\r\n    });\r\n\r\n    feedbackForm.reset();\r\n  };\r\n\r\n  emailInput.addEventListener('input', (e) => {\r\n    const target = e?.target?.value;\r\n\r\n    if (target && !isEmailValid(target)) {\r\n      emailInput.setCustomValidity('Введите правильный Email');\r\n    } else if (!target) {\r\n      emailInput.setCustomValidity('Поле не должно быть пустым');\r\n    } else {\r\n      emailInput.setCustomValidity('');\r\n    }\r\n\r\n    emailInput.reportValidity();\r\n  });\r\n\r\n  messageInput.addEventListener('input', (e) => {\r\n    const value = e?.target?.value;\r\n\r\n    if (value.length > MAX_LENGTH_MESSAGE) {\r\n      messageInput.setCustomValidity(`Количество символов не должно превышать ${MAX_LENGTH_MESSAGE}`);\r\n    } else if (!value) {\r\n      messageInput.setCustomValidity('Поле не должно быть пустым');\r\n    } else {\r\n      messageInput.setCustomValidity('');\r\n    }\r\n\r\n    messageTextCounter.textContent = `${+messageInput.value.length}/${MAX_LENGTH_MESSAGE}`;\r\n    messageInput.reportValidity();\r\n  });\r\n\r\n  const successMessage = createAlertMessage(\r\n    SUCCESS_FORM_MESSAGE_TEXT,\r\n    FormMessageType.SUCCESS,\r\n    () =>\r\n      showFormElements(),\r\n  );\r\n  const failureMessage = createAlertMessage(FAILURE_FORM_MESSAGE_TEXT, FormMessageType.FAILURE);\r\n\r\n  feedbackForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    hideFormElements();\r\n\r\n    formSection.classList.add('feedback-form--sent');\r\n\r\n    try {\r\n      formSectionContainer.appendChild(successMessage);\r\n    } catch (e) {\r\n      formSectionContainer.appendChild(failureMessage);\r\n    }\r\n  });\r\n};\r\n","export const EMAIL_VALID_REGEX =\r\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\nexport const MAX_LENGTH_MESSAGE = 500;\r\nexport const SUCCESS_FORM_MESSAGE_TEXT = 'Ваше сообщение успешно отправлено';\r\nexport const FAILURE_FORM_MESSAGE_TEXT = 'Не удалось отправить сообщение';\r\n\r\nexport const FormMessageType = {\r\n  FAILURE: 'failure',\r\n  SUCCESS: 'success',\r\n};\r\n","export const createAlertMessage = (\r\n  message,\r\n  type = 'success',\r\n  onSuccess = Function.prototype,\r\n  onFailure = Function.prototype,\r\n) => {\r\n  const container = document.createElement('div');\r\n  const messageText = document.createElement('p');\r\n  const button = document.createElement('button');\r\n\r\n  container.classList.add('feedback-form__alert');\r\n  messageText.classList.add('feedback-form__alert-message');\r\n  button.classList.add('btn-blue', 'feedback-form__alert-button');\r\n\r\n  messageText.textContent = message;\r\n\r\n  switch (type) {\r\n    case 'success':\r\n      button.textContent = 'ОК';\r\n      button.addEventListener('click', onSuccess);\r\n      break;\r\n    case 'failure':\r\n      button.textContent = 'Попробовать еще раз';\r\n      button.addEventListener('click', onFailure);\r\n      break;\r\n  }\r\n\r\n  container.appendChild(messageText);\r\n  container.appendChild(button);\r\n\r\n  return container;\r\n};\r\n"],"names":[],"version":3,"file":"index.5656a6d0.js.map"}